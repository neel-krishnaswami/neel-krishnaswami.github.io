<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.36 in css mode. -->
<html>
  <head>
    <title>test2.js</title>
    <style type="text/css">
    <!--
      body {
        color: #ffffff;
        background-color: #2f4f4f;
      }
      .constant {
        /* font-lock-constant-face */
        color: #7fffd4;
      }
      .keyword {
        /* font-lock-keyword-face */
        color: #00ffff;
      }
      .string {
        /* font-lock-string-face */
        color: #ffa07a;
      }
      .type {
        /* font-lock-type-face */
        color: #98fb98;
      }
      .variable-name {
        /* font-lock-variable-name-face */
        color: #eedd82;
      }

      a {
        color: inherit;
        background-color: inherit;
        font: inherit;
        text-decoration: inherit;
      }
      a:hover {
        text-decoration: underline;
      }
    -->
    </style>
  </head>
  <body>
    <pre>
 1: <span class="keyword">let</span> <span class="variable-name">map</span> = lazyfix(<span class="keyword">function</span> (<span class="variable-name">map$42_2</span>){
 2:                     <span class="keyword">return</span> <span class="keyword">function</span> (<span class="variable-name">st$46_3</span>){
 3:                       <span class="keyword">let</span> <span class="variable-name">f$47_4</span> = st$46_3();
 4:                       <span class="keyword">return</span> <span class="keyword">function</span> (<span class="variable-name">us$48_6</span>){
 5:                         <span class="keyword">let</span> <span class="variable-name">x$49_7</span> = us$48_6.head();
 6:                         <span class="keyword">let</span> <span class="variable-name">xs$50_9</span> = us$48_6.tail();
 7:                         <span class="keyword">return</span> <span class="keyword">new</span> <span class="type">Cons</span>(f$47_4(x$49_7),
 8:                                         <span class="keyword">new</span> <span class="type">Lazy</span>(<span class="keyword">function</span> (){
 9:                                                    <span class="keyword">let</span> <span class="variable-name">xs$50_15</span> = xs$50_9.force();
10:                                                    <span class="keyword">let</span> <span class="variable-name">map$42_17</span> = map$42_2.force();
11:                                                    <span class="keyword">return</span> map$42_17(<span class="keyword">function</span> (){
12:                                                                       <span class="keyword">return</span> f$47_4;
13:                                                                     })(xs$50_15);
14:                                                  }));
15:                       };
16:                     };
17:                   });
18: <span class="keyword">let</span> <span class="variable-name">unfold</span> = lazyfix(<span class="keyword">function</span> (<span class="variable-name">unfold$58_2</span>){
19:                        <span class="keyword">return</span> <span class="keyword">function</span> (<span class="variable-name">st$62_3</span>){
20:                          <span class="keyword">let</span> <span class="variable-name">f$63_4</span> = st$62_3();
21:                          <span class="keyword">return</span> <span class="keyword">function</span> (<span class="variable-name">seed$64_6</span>){
22:                            <span class="keyword">let</span> <span class="variable-name">p$65_7</span> = f$63_4(seed$64_6);
23:                            <span class="keyword">let</span> <span class="variable-name">v$66_10</span> = p$65_7[0];
24:                            <span class="keyword">let</span> <span class="variable-name">d$67_12</span> = p$65_7[1];
25:                            <span class="keyword">let</span> <span class="variable-name">seed$68_14</span> = d$67_12;
26:                            <span class="keyword">return</span> <span class="keyword">new</span> <span class="type">Cons</span>(v$66_10,
27:                                            <span class="keyword">new</span> <span class="type">Lazy</span>(<span class="keyword">function</span> (){
28:                                                       <span class="keyword">let</span> <span class="variable-name">unfold$58_17</span> = unfold$58_2.force();
29:                                                       <span class="keyword">let</span> <span class="variable-name">seed$68_19</span> = seed$68_14.force();
30:                                                       <span class="keyword">return</span> unfold$58_17(<span class="keyword">function</span> (){
31:                                                                             <span class="keyword">return</span> f$63_4;
32:                                                                           })(seed$68_19);
33:                                                     }));
34:                          };
35:                        };
36:                      });
37: <span class="keyword">let</span> <span class="variable-name">count</span> = <span class="keyword">function</span> (<span class="variable-name">bs$72_2</span>){
38:   <span class="keyword">return</span> unfold(<span class="keyword">function</span> (){
39:                   <span class="keyword">return</span> <span class="keyword">function</span> (<span class="variable-name">u$80_6</span>){
40:                     <span class="keyword">let</span> <span class="variable-name">n$81_7</span> = u$80_6[0];
41:                     <span class="keyword">let</span> <span class="variable-name">us$82_9</span> = u$80_6[1];
42:                     <span class="keyword">let</span> <span class="variable-name">b$83_11</span> = us$82_9.head();
43:                     <span class="keyword">let</span> <span class="variable-name">bs$84_13</span> = us$82_9.tail();
44:                     <span class="keyword">let</span> <span class="variable-name">m$85_15</span>= <span class="constant">null</span>;
45:                     <span class="keyword">if</span> (b$83_11) {
46:                       m$85_15 = n$81_7 + 1.;
47:                     } <span class="keyword">else</span> {
48:                       m$85_15 = n$81_7;
49:                     }
50:                     <span class="keyword">return</span> [m$85_15,
51:                             <span class="keyword">new</span> <span class="type">Lazy</span>(<span class="keyword">function</span> (){
52:                                        <span class="keyword">let</span> <span class="variable-name">bs$84_21</span> = bs$84_13.force();
53:                                        <span class="keyword">return</span> [m$85_15, bs$84_21];
54:                                      })];
55:                   };
56:                 })([0., bs$72_2]);
57: };
58: <span class="keyword">let</span> <span class="variable-name">dynlabel</span> = <span class="keyword">function</span> (<span class="variable-name">msgs$88_2</span>){
59:   <span class="keyword">return</span> <span class="keyword">function</span> (){
60:     <span class="keyword">let</span> <span class="variable-name">update$109_3</span> = lazyfix(<span class="keyword">function</span> (<span class="variable-name">update$92_4</span>){
61:                                  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="variable-name">i$96_5</span>){
62:                                    <span class="keyword">let</span> <span class="variable-name">ss$97_6</span> = i$96_5;
63:                                    <span class="keyword">let</span> <span class="variable-name">s$98_7</span> = ss$97_6.head();
64:                                    <span class="keyword">let</span> <span class="variable-name">ss$99_9</span> = ss$97_6.tail();
65:                                    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="variable-name">w$100_11</span>){
66:                                      <span class="keyword">let</span> <span class="variable-name">w$102_12</span> = text(s$98_7)()(w$100_11);
67:                                      <span class="keyword">let</span> <span class="variable-name">dom$103_18</span> = w$102_12;
68:                                      <span class="keyword">let</span> <span class="variable-name">w0$104_19</span> = dom$103_18;
69:                                      <span class="keyword">let</span> <span class="variable-name">w1$105_20</span> = <span class="keyword">new</span> <span class="type">Lazy</span>(<span class="keyword">function</span> (){
70:                                                                 <span class="keyword">return</span> dom$103_18;
71:                                                               });
72:                                      <span class="keyword">return</span> mergePrim(w0$104_19,
73:                                                       <span class="keyword">new</span> <span class="type">Lazy</span>(<span class="keyword">function</span> (){
74:                                                                  <span class="keyword">let</span> <span class="variable-name">w1$105_23</span> = w1$105_20.force();
75:                                                                  <span class="keyword">let</span> <span class="variable-name">update$92_25</span> = update$92_4.force();
76:                                                                  <span class="keyword">let</span> <span class="variable-name">ss$99_27</span> = ss$99_9.force();
77:                                                                  <span class="keyword">return</span> update$92_25(ss$99_27)(w1$105_23);
78:                                                                }));
79:                                    };
80:                                  };
81:                                });
82:     <span class="keyword">let</span> <span class="variable-name">w$111_33</span> = mkText(<span class="string">""</span>)();
83:     <span class="keyword">return</span> update$109_3(msgs$88_2)(w$111_33);
84:   };
85: };
86: <span class="keyword">let</span> <span class="variable-name">main</span> = <span class="keyword">function</span> (){
87:   <span class="keyword">let</span> <span class="variable-name">w$120_2</span> = mkButton();
88:   <span class="keyword">let</span> <span class="variable-name">t$122_4</span> = clicks()(w$120_2);
89:   <span class="keyword">let</span> <span class="variable-name">w$123_8</span> = t$122_4[0];
90:   <span class="keyword">let</span> <span class="variable-name">i$124_10</span> = t$122_4[1];
91:   <span class="keyword">let</span> <span class="variable-name">bs$125_12</span> = i$124_10;
92:   <span class="keyword">let</span> <span class="variable-name">w0$138_13</span> = dynlabel(map(<span class="keyword">function</span> (){
93:                                  <span class="keyword">return</span> toString;
94:                                })(count(bs$125_12)))();
95:   <span class="keyword">return</span> attach()([w$123_8, w0$138_13]);
96: };
97: <span class="keyword">let</span> <span class="variable-name">$main</span> = <span class="keyword">function</span> (){
98:   <span class="keyword">return</span> main();
99: };
</pre>
  </body>
</html>
